{"version":3,"sources":["src/framework/utils.js","src/framework/observable.js","src/framework/extras.js","src/framework/env.js","src/framework/state.js","src/framework/patch.js","src/framework/hooks.js","src/framework/attrs.js","src/framework/render.js","src/framework/index.js","src/index2.js","C:/Users/dane/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["isPrimitive","val","Object","isObject","isCallable","f","pipe","fns","arg","reduce","acc","fn","empty","o","constructor","copy","assign","length","keys","filter","object","key","map","initial","each","forEach","logger","log","args","push","curry","arguments","apply","bind","createTuples","ArrayLike","Array","setPrototypeOf","prototype","Tuple","freeze","value","count","i","x","Error","indexOf","module","exports","createObservable","dirty","observers","update","newObserverList","position","subscribe","item","message","msg","observer","arr","cacheArr","result","a","flatten","v","flat","any","argument","$not","$and","cond","$or","$if","y","$eq","$eqw","$add","$sub","$multiply","$divide","$pow","$mod","$lt","$gt","$lte","$gte","env","register","destroyFn","renderTargetUnsubscribe","require","ERR_STATE_UPDATE","stateDefaults","mutable","createValue","$state","setState","createEffect","deps","effectFn","destroy","depsCache","destroyEffect","runEffect","createComputed","computedFn","createState","state","options","handler","stateUpdate","stateProxy","createProxy","getState","produce","first","second","mutatorList","pop","shift","unshift","splice","reverse","fill","sort","applyToObjectKeys","proxy","k","subProxy","subarray","prop","subproxies","hasOwnProperty","stateGuard","record","isArray","unsubscribe","defineMutatorFn","len","mutators","defineProperties","Proxy","Function","get","target","parent","p","isRenderMode","set","deleteProperty","thisArg","patch","$parent","$new","$old","newList","oldList","patchManyToMany","patchManyToOne","patchOneToMany","patchOneToOne","replaceChild","appendChild","$n","insertBefore","removeChild","$o","newLength","oldLength","min","Math","max","addNew","method","useComputed","useValue","useState","useEffect","subscribeToUpdates","setTimeout","subscribeToDestroy","useRef","eventHandler","updateAttr","$el","removeAttribute","style","setAttribute","renderNode","vNode","type","createEmptyNode","createTextNode","createExpression","createFragment","tagName","createComponent","createElement","document","text","resultCache","elementCache","updatesCache","destroyCache","element","updates","destroyUpdate","vNodes","$elements","destroyHandlers","attrs","children","entries","match","child","destroyHandler","component","unsubscribeList","updateObservable","destroyObservable","d","updateDom","connectState","h","mount","hdom","$target","window","Wrapper","console","border","padding","UxInput","name","label","placeholder","rest","Timer","counter","setCounter","increment","counterDisplay","reversed","String","split","join","sum","Number","interval","setInterval","title","clearInterval","Main","inputRef","color","showColors","updateState","toggleColorOptions","e","checked","incrementClicks","focus","updateName","selectColor","buttonStyle","background","colors","time","body","timeEnd","OVERLAY_ID","OldModule","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","event","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","id","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","error","stack","overlay","createErrorOverlay","getElementById","remove","stackTrace","innerText","innerHTML","getParents","modules","parents","dep","concat","cached","cache","some","cb"],"mappings":"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;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAGA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACxJO,IAAMa,GAAG,GAAG;AACjBC,EAAAA,QADiB,oBACRC,SADQ,EACE;AACjB,SAAKC,uBAAL,CAA6B7D,IAA7B,CAAkC4D,SAAlC;AACD;AAHgB,CAAZ;;;;;;;;;;;ACAP;AACA;AACA;eAEsEE,OAAO,CAAC,SAAD;IAArE3F,uBAAAA;IAAaG,oBAAAA;IAAUC,sBAAAA;IAAYW,gBAAAA;IAAMO,eAAAA;IAAKV,iBAAAA;IAAOY,gBAAAA;;gBAChCmE,OAAO,CAAC,cAAD;IAA5B1C,6BAAAA;;gBACY0C,OAAO,CAAC,UAAD;IAAnB3B,oBAAAA;;gBACQ2B,OAAO,CAAC,OAAD;IAAfJ,gBAAAA;;AAER,IAAMK,gBAAgB,GAAG,6EAAzB;AAEA,IAAMC,aAAa,GAAG;AAAEC,EAAAA,OAAO,EAAE;AAAX,CAAtB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACtD,KAAD,EAAW;AAAA,0BACCQ,gBAAgB,EADjB;AAAA,MACtBQ,OADsB,qBACtBA,OADsB;AAAA,MACbF,SADa,qBACbA,SADa;;AAE9B,MAAMyC,MAAM,GAAG,SAATA,MAAS;AAAA,WAAMvD,KAAN;AAAA,GAAf;;AACA,MAAMwD,QAAQ,GAAG,SAAXA,QAAW,CAAChC,CAAD,EAAO;AACvB;AACA;AACA;A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","file":"index2.943df8ae.js","sourceRoot":"..","sourcesContent":["const isPrimitive = (val) => Object(val) !== val;\nconst isObject = (val) => Object(val) === val;\nconst isCallable = (f) => typeof f === 'function';\nconst pipe = (...fns) => arg => fns.reduce((acc, fn) => fn(acc), arg);\nconst empty = (o) => o.constructor();\nconst copy = (o) => Object.assign(o.constructor(), o);\nconst length = (o) => Object.keys(o).length;\nconst filter = (object, fn) => Object.keys(object).reduce(\n  (acc, key) => {\n    if(fn(object[key], key, object)){\n      acc[key] = object[key];\n    }\n    return acc;\n  }, {}\n);\nconst map = (object, fn) => Object.keys(object).reduce(\n  (acc, key) => {\n    acc[key] = fn(object[key], key, object);\n    return acc;\n  }, {}\n);\nconst reduce = (object, fn, initial) => Object.keys(object).reduce(\n  (acc, key) => {\n    acc[key] = fn(object[key], key, object);\n    return acc;\n  }, initial\n);\nconst each = (object, fn) =>  Object.keys(object).forEach(\n  (key) => {\n    fn(object[key], key, object);\n  }\n);\nconst logger = (log = []) => (...args) => {\n  if (args.length){\n    log.push(\n      args.length > 1\n        ? args\n        : args[0]\n    )\n  } else {\n    return log;\n  }\n}\n\nconst curry = (f) => {\n  return (...arguments) => {\n    if (arguments.length == f.length) {\n      // If arguments passed is sufficient then return value = f(arguments)\n      return (f.apply(null, arguments))\n    }\n    return curry(f.bind(null, ...arguments))\n  }\n}\n\nfunction createTuples () {\n  class ArrayLike extends Array {\n      constructor (...args) {\n          super(...args);\n      }\n  }\n\n  Object.setPrototypeOf(ArrayLike.prototype, null)\n\n  class Tuple extends ArrayLike {\n    constructor (...args) {\n      super(...args);\n      Object.freeze(this);\n    }\n    static from (o) {\n      if (o.length == null) throw Error('Expecting array/array-like data type');\n      return new Tuple(...o);\n    }\n    count (value) {\n      let count = 0;\n      for (let i = 0; x < this.length; i++) {\n        if (this[i] === value) count++\n      }\n      return count;\n    }\n  }\n\n  Tuple.prototype.indexOf = Array.prototype.indexOf\n\n  return {\n    ArrayLike, Tuple\n  };\n}\n\nmodule.exports = {\n  isPrimitive,\n  isObject,\n  isCallable,\n  pipe,\n  empty,\n  copy,\n  length,\n  filter,\n  map,\n  reduce,\n  each,\n  logger,\n  curry\n}\n","export const createObservable = () => {\n  let dirty = false;\n  let observers = [];\n\n  function update (newObserverList) {\n    this.position = newObserverList.length;\n    newObserverList.push(this);\n  }\n\n  const subscribe = (fn) => {\n    const item = { fn, update, position: void 0 };\n    item.update(observers);\n\n    return () => {\n      observers[item.position] = false;\n      dirty = true;\n    }\n  };\n\n  const message = ( msg ) => {\n    if (dirty) {\n      let newObserverList = [];\n      for (observers of observers) {\n        if (observer) {\n          observer.fn( msg );\n          observer.update(newObserverList)\n        }\n      }\n      observers = newObserverList;\n      dirty = false;\n    } else {\n      observers.forEach(\n        (o) => {\n          return o.fn( msg )\n        }\n      );\n    }\n\t};\n  return {\n    subscribe,\n    message\n  };\n}\n","const map = (arr, fn) => {\n  let cacheArr, result;\n  return () => {\n    const a = arr();\n    if (a !== cacheArr){\n      result = arr.map(fn);\n      cacheArr = a;\n    }\n    return result;\n  };\n};\n\nexport const flatten = (v, args) => typeof v === 'function' ? v.apply(null, args) : v;\nconst flat = (fn) => (...args) => {\n  return args.any(arg => typeof argument === 'function')\n    ? () => fn(...args.map(flatten))\n    : fn(...args)\n}\n\nexport const $not = (x) => typeof x === 'function'\n  ? (...args) => !flatten(x, args)\n  : !x;\nexport const $and = (cond, x) => typeof cond === 'function'\n  ? (...args) => cond() && flatten(x, args)\n  : cond && x;\nexport const $or = (cond, x) => typeof cond === 'function'\n  ? (...args) => cond() || flatten(x, args)\n  : cond || x;\nexport const $if = (cond, x, y) => typeof cond === 'function'\n  ? (...args) => cond() ? flatten(x, args) : flatten(y, args)\n  : cond ? x : y;\n\nexport const $eq = flat((x, y) => x === y);\nexport const $eqw = flat((x, y) => x == y);\n\nexport const $add = flat((x, y) => x + y);\nexport const $sub = flat((x, y) => x - y);\nexport const $multiply = flat((x, y) => x * y);\nexport const $divide = flat((x, y) => x / y);\nexport const $pow = flat((x, y) => x ** y);\nexport const $mod = flat((x, y) => x % y);\nexport const $lt = flat((x, y) => x < y);\nexport const $gt = flat((x, y) => x > y);\nexport const $lte = flat((x, y) => x <= y);\nexport const $gte = flat((x, y) => x >= y);\n\n// export const $add = (x, y) => () => flatten(x) + flatten(y);\n// export const $sub = (x, y) => () => flatten(x) - flatten(y);\n// export const $multiply = (x, y) => () => flatten(x) * flatten(y);\n// export const $divide = (x, y) => () => flatten(x) / flatten(y);\n// export const $pow = (x, y) => () => flatten(x) ** flatten(y);\n// export const $mod = (x, y) => () => flatten(x) % flatten(y);\n\n// const $if2 = (x, y, z) => {\n//   let cache1, cache2, result;\n//   returnf (...args) => {\n//     const condition = flatten(x, args);\n//     if (condition) {\n//       result = flatten(y, args);\n//       if result !== void 0;\n//         cache1 = result;\n//     } else {\n//       result = flatten(z, args);\n//       if result !== void 0;\n//         cache2 = result;\n//     }\n//     return result;\n//   };\n// };\n//\n// const $if3 = (condition, ...outcomes) => {\n//   let result, cache = [];\n//   return (...args) => {\n//     const outcome = Number(!flatten(x, args));\n//     result = flatten(outcomes[outcome], args);\n//     if (result !== void 0) {\n//       cache[outcome] = result;\n//     }\n//     return result;\n//   };\n// };\n//\n// const $if4 = (condition, ...outcomes) => {\n//   let result, cache = [];\n//   return (...args) => {\n//     const outcome = Number(!flatten(x, args));\n//     result = outcomes[outcome];\n//     cache[outcome] = result;\n//     return flatten(result, args);\n//   };\n// };\n\n// const $if = (condition, x, y) => (...args) => flatten(flatten(condition ? x : y, args));\n\n\n// $if(false, 1, $if(2, 3, 4));\n\n// { $.if(\n//   state.someCondition,\n//   <div>No data found.</div>,\n//   <Component2 user={ user } />\n// ) }\n//\n// { (...args) => flatten(state.someCondition, args)\n//   ?  <div>No data found.</div>\n//   : <Component2 user={ user } />\n// }\n\n\n\n// reactiveArray.map( reactiveItem => <div attr={reactiveItem.attr}>{ reactiveItem.content }</div> )\n//\n// const renderMethod = method => function (fn) {\n//     let arrayData;\n//     let cache;\n//     return () => {\n//       const newArrayData = this.arrayProxy();\n//       if (newArrayData !== arrayData) {\n//         cache = method(this.arrayProxy, fn);\n//       }\n//       return cache;\n//   };\n// };\n//\n// const map = function (fn) {\n//     let arrayData;\n//     let cache;\n//     return () => {\n//       const newArrayData = this.arrayProxy();\n//       if (newArrayData !== arrayData) {\n//         cache = map(this.arrayProxy, fn);\n//       }\n//       return cache;\n//   };\n// };\n//\n//\n// $observable.map() =>\n// () => {\n//   return ()\n// }\n//\n// const renderMethods = Object.freeze({\n//     map: renderMethod(map),\n//     filter: renderMethod(filter),\n//     reduce: renderMethod(reduce)\n// });\n//\n// const bindRenderMethods = (arrayProxy) => {\n//   Object.create(renderMethods, {\n//     arrayProxy: { value: arrayProxy }\n//   });\n// };\n","export const env = {\n  register(destroyFn){\n    this.renderTargetUnsubscribe.push(destroyFn);\n  }\n};\n","// TODO: Freeze on Create State...\n// TODO: Investigate: assign, deep assign.\n// TODO: Support arrays in shorthand mode\n\nconst { isPrimitive, isObject, isCallable, copy, map, empty, each } = require('./utils');\nconst { createObservable } = require('./observable');\nconst { flatten } = require('./extras')\nconst { env } = require('./env')\n\nconst ERR_STATE_UPDATE = 'State update argument must either be an Object/Array or an update function.';\n\nconst stateDefaults = { mutable: false, };\n\nconst createValue = (value) => {\n\tconst { message, subscribe } = createObservable();\n\tconst $state = () => value;\n\tconst setState = (v) => {\n\t\t// if (env.renderInProgress) {\n\t\t// \tenv.register(subscribe(env.renderTarget));\n\t\t// }\n\t\tif (typeof v === 'function') {\n\t\t\tv = v(value);\n\t\t}\n\t\tif (value !== v) {\n\t\t\tvalue = v;\n\t\t\tmessage(v);\n\t\t}\n\t};\n\treturn {\n\t\t$state,\n\t\tsetState,\n\t\tsubscribe\n\t};\n};\n\n\nconst createEffect = (deps, effectFn) => {\n\tlet destroy, depsCache;\n\n  const destroyEffect = () => {\n    destroy && destroy(depsCache);\n  }\n\n\tconst runEffect = () => {\n\t\tdestroyEffect();\n\t\tdepsCache = map(deps, (x) => flatten(x));\n\t\tdestroy = effectFn(depsCache);\n\t};\n\n\treturn {\n    runEffect,\n    destroyEffect\n  };\n};\n\nconst createComputed = (deps, computedFn) => {\n\tconst { subscribe } = createObservable();\n\tconst $state = () => computedFn(map(deps, (x) => flatten(x)));\n\treturn {\n\t\t$state,\n\t\tsubscribe\n\t}\n};\n\nconst createState = (state = {}, options) => {\n\tconst { mutable, env } = Object.assign({}, stateDefaults, options);\n\tconst { message, subscribe } = createObservable();\n\tconst handler = (stateUpdate) => {\n\t\tif (stateUpdate !== state) {\n\t\t\tstate = stateUpdate;\n\t\t\tmessage(state);\n\t\t}\n\t}\n\tconst stateProxy = createProxy(state, {\n\t\t// env,\n\t\thandler, mutable\n\t});\n\tconst getState = () => stateProxy();\n\tconst setState = (stateUpdate) => {\n\t\tif (isPrimitive(stateUpdate)) throw new Error(ERR_STATE_UPDATE);\n\t\treturn stateProxy(stateUpdate);\n\t}\n\treturn {\n\t\t$state: stateProxy,\n\t\tgetState,\n\t\tsetState,\n\t\tsubscribe\n\t};\n};\n\nconst produce = (...args) => {\n\tconst [ first, second ] = args;\n\tif (args.length === 1 && isCallable(first)) {\n\t\treturn state => createProxy(state)(first)();\n\t} else {\n\t\treturn createProxy(first)(second)()\n\t}\n}\n\nconst mutatorList = { pop: 0, shift: 0, push: 1, unshift: 1, splice: 0, reverse: 0, fill: 0, sort: 0 };\n\nconst apply = (fn) => fn();\nconst applyToObjectKeys = (proxy) => (v, k) => isPrimitive(v) || proxy[k]();\n\nconst subProxy = (subarray, prop, subproxies, { handler, mutable, env }) => {\n\tif (!subproxies.hasOwnProperty(prop)) {\n\t\tsubproxies[prop] = createProxy(subarray, {\n\t\t\thandler,\n\t\t\tmutable\n\t\t});\n\t}\n\treturn subproxies[prop];\n};\n\nconst stateGuard = (state, { mutable = false } = {}) => {\n\tlet dirty = false;\n\treturn () => {\n\t\tif (mutable && dirty) {\n\t\t\treturn state;\n\t\t}\n\t\tdirty = mutable;\n\t\treturn state = copy(state);\n\t}\n};\n\nconst createProxy = (record, { handler, mutable = false, env = {}} = {}) => {\n\tlet proxy,\n\t\t\tsubproxies = {},\n\t\t\tstate = stateGuard(record, { mutable });\n  const isArray = Array.isArray(record);\n  const { message, subscribe } = createObservable();\n  const unsubscribe = handler && subscribe(handler);\n\t// handler && console.log({ handler })\n\tconst defineMutatorFn = isArray && mutable\n\t\t? (len, prop) => ({\n\t\t\tvalue: (...args) => {\n\t\t\t\tif ( args.length >= len ) record = state();\n\t\t\t\treturn Array.prototype[prop].apply(record, args);\n\t\t\t}\n\t\t})\n\t\t: null;\n\tconst mutators = isArray && mutable\n\t\t? Object.defineProperties({}, map(mutatorList, defineMutatorFn))\n\t\t: null;\n\treturn proxy = new Proxy(new Function, {\n\t\tget: (target, prop, parent) => {\n\t\t\tif (record.hasOwnProperty(prop)) {\n\t\t\t\tconst p = record[prop];\n\t\t\t\treturn isPrimitive(p)\n\t\t\t\t\t? env.isRenderMode\n\t\t\t\t\t\t? () => p\n\t\t\t\t\t\t: p\n\t\t\t\t\t: subProxy(p, prop, subproxies, {\n\t\t\t\t\t\tenv,\n\t\t\t\t\t\tmutable,\n\t\t\t\t\t\thandler: (record) => parent[prop] = record\n\t\t\t\t\t});\n\t\t\t} else if (isArray && mutable && mutators.hasOwnProperty(prop)) {\n\t\t\t\treturn mutators[prop];\n\t\t\t} else if (record.constructor.prototype.hasOwnProperty(prop)) {\n\t\t\t\treturn record.constructor.prototype[prop].bind(record);\n\t\t\t}\n\t\t},\n\t\tset: (target, prop, value) => {\n\t\t\tif (!record.hasOwnProperty(prop) || record[prop] !== value) {\n\t\t\t\trecord = state();\n\t\t\t\trecord[prop] = value;\n\t\t\t\t// delete subproxies[prop];\n\t\t\t\t// mutable ||\n\n        message(record);\n\t\t\t\t// handler && handler(record);\n\t\t\t}\n\t\t\treturn true;\n\t\t},\n\t\tdeleteProperty: (target, prop) => {\n\t\t\tif (record.hasOwnProperty(prop)) {\n\t\t\t\trecord = state();\n\t\t\t\tdelete record[prop];\n\t\t\t\tdelete subproxies[prop];\n\t\t\t\t// mutable ||\n        message(record);\n\t\t\t\t// handler && handler(record);\n\t\t\t}\n\t\t},\n\t\tapply: ( target, thisArg, args ) => {\n\t\t\tif (env.isRenderMode) {\n        // env.renderTarget.unmountHandlers.push(subscribe(env.renderTarget.shouldUpdate));\n\t\t\t}\n\t\t\tif (!args.length) {\n\t\t\t\tObject.freeze(record);\n        message(record);\n\t\t\t\t// handler && handler(record);\n\t\t\t\tif (mutable) {\n\t\t\t\t\tstate = stateGuard(record);\n\t\t\t\t\tmap(record, applyToObjectKeys(proxy));\n\t\t\t\t}\n\t\t\t\treturn record;\n\t\t\t} else {\n\t\t\t\tconst [ stateUpdate, options ] = args;\n\t\t\t\tif (isCallable(stateUpdate)) {\n\t\t\t\t\tconst p = createProxy(record, { mutable: true });\n\t\t\t\t\tstateUpdate(p);\n\t\t\t\t\trecord = p();\n\t\t\t\t\tstate = stateGuard(record, { mutable });\n          message(record);\n\t\t\t\t\t// handler && handler(record);\n\t\t\t\t\treturn proxy;\n\t\t\t\t} else if (isObject(stateUpdate)) {\n\t\t\t\t\tconst p = createProxy(record, { mutable: true });\n\t\t\t\t\tObject.assign(p, stateUpdate);\n\t\t\t\t\trecord = p();\n\t\t\t\t\tstate = stateGuard(record, { mutable });\n          message(record);\n\t\t\t\t\t// handler && handler(record);\n\t\t\t\t\treturn proxy;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t});\n};\n\nmodule.exports = {\n  produce,\n\tcreateEffect,\n\tcreateValue,\n\tcreateState,\n\tcreateComputed,\n\tcreateProxy,\n\tstateGuard,\n\tsubProxy\n}\n","export const patch = ($parent, $new, $old) => {\n  const newList = Array.isArray($new);\n  const oldList = Array.isArray($old);\n  ( newList\n    ? (oldList ? patchManyToMany : patchManyToOne)\n    : (oldList ? patchOneToMany : patchOneToOne)\n  )($parent, $new, $old)\n};\n\nconst patchOneToOne = ($parent, $new, $old) => $old\n  ? $parent.replaceChild($new, $old)\n  : $parent.appendChild($new);\n\nconst patchManyToOne = ($parent, $new, $old) => $old\n  ? ( $new.forEach($n => $parent.insertBefore($n, $old)), $parent.removeChild($old))\n  : $new.forEach($n => $parent.appendChild($n));\n\nconst patchOneToMany = ($parent, $new, $old) => $old\n  ? ( $parent.insertBefore($new, $old[0]), $old.forEach($o => $parent.removeChild($o)) )\n  : $parent.appendChild($new);\n\nconst patchManyToMany = ($parent, $new, $old) => {\n  const newLength = $new.length;\n  const oldLength = $old.length;\n  const min = Math.min(newLength, oldLength);\n  const max = Math.max(newLength, oldLength);\n\n  for (let i = 0; i < min; i++) {\n    $parent.replaceChild($new[i], $old[i]);\n  }\n\n  if (newLength !== oldLength) {\n    const addNew = newLength < oldLength;\n    const method = addNew ? 'appendChild' : 'removeChild';\n    const target = addNew ? $new : $old;\n    for (let i = min; i < max; i++) {\n      $parent[method](target[i]);\n    }\n  }\n};\n","import { createValue, createState, createComputed, createEffect } from './state';\n\n// export function hook(method, ...args) {\n//   console.log({ method, args })\n//   const { $state, setState, subscribe } = method(...args);\n//   this(subscribe);\n//   return [ $state, setState ];\n// }\n\nexport function useComputed(deps, computedFn) {\n  const { $state, subscribe } = createComputed(deps, computedFn);\n  this(subscribe);\n  return $state;\n}\n\nexport function useValue(value) {\n  const { $state, setState, subscribe } = createValue(value);\n  this(subscribe);\n  return [ $state, setState ];\n}\n\nexport function useState(state) {\n  const { $state, setState, subscribe } = createState(state);\n  this(subscribe);\n  return [ $state, setState ];\n}\n\nexport function useEffect(deps, effectFn) {\n  const { runEffect, destroyEffect } = createEffect(deps, effectFn);\n  deps ? this.subscribeToUpdates(runEffect) : setTimeout(runEffect);\n  this.subscribeToDestroy(destroyEffect);\n}\n\nexport function useRef(value) {\n  return (...args) => {\n    if (args.length) {\n      const [ update ] = args;\n      value = update;\n    }\n    return value;\n  }\n}\n","export const eventHandler = /^on[\\w]+/g;\n\nexport const updateAttr = ($el, k, value) => {\n  if (k === 'ref') {\n    return void value($el);\n  }\n  const v = value();\n  if (v == null) {\n    $el.removeAttribute(k);\n  } else {\n    switch (k) {\n      case 'checked':\n      case 'value': {\n        $el[k] = v;\n        break;\n      }\n      case 'style': {\n        if (typeof v === 'string') {\n          $el.style = v;\n          break;\n        }\n        Object.assign($el.style, v);\n        break;\n      }\n      default: {\n        $el.setAttribute(k, v);\n      }\n    }\n  }\n};\n","import { env } from './env';\nimport { patch } from './patch';\n// import { createValue, createState, createComputed } from './state';\nimport { createObservable } from './observable';\nimport { useEffect, useValue, useState, useComputed, useRef } from './hooks';\nimport { eventHandler, updateAttr } from './attrs';\n\nexport const renderNode = (vNode) => {\n  const type = typeof vNode;\n  if (type === 'boolean' || vNode == null) {\n    return createEmptyNode();\n  } else if (type === 'string' || type === 'number') {\n    return createTextNode(vNode);\n  } else if (type === 'function') {\n    return createExpression(vNode);\n  } else if (Array.isArray(vNode)) {\n    return createFragment(vNode);\n  } else if (typeof vNode.tagName === 'function'){\n    return createComponent(vNode);\n  }\n  return createElement(vNode);\n}\n\nconst createEmptyNode = () => [ document.createTextNode(''), false ]\n\nconst createTextNode = (text) => [ document.createTextNode(text), false ];\n\nconst createExpression = (fn) => {\n  let resultCache, elementCache, updatesCache, destroyCache;\n  const destroy = () => {\n    destroyCache && destroyCache();\n  };\n  const update = ($parent) => {\n    const result = fn();\n\n    if (result !== resultCache) {\n      const [ element, updates, destroyUpdate ] = renderNode(result);\n      destroy();\n      destroyCache = destroyUpdate;\n      $parent && patch($parent, element, elementCache);\n      elementCache = element;\n      resultCache = result;\n      updatesCache = updates;\n    }\n    updatesCache && updatesCache();\n  };\n  update();\n  return [ elementCache, update, destroy ];\n};\n\nconst createFragment = (vNodes) => {\n  const $elements = [];\n  const updates = [];\n  const destroyHandlers = [];\n  vNodes.forEach(vNode => {\n    // const [ $el ] = renderNode(vNode);\n    const [ $el, update, destroy ] = renderNode(vNode);\n    $elements.push($el);\n    update && updates.push(update);\n    destroy && destroyHandlers.push(destroy);\n  });\n\n  const update = ($parent) => {\n    updates.forEach(update => update($parent));\n  }\n\n  const destroy = () => {\n    updates.forEach(fn => fn());\n  }\n\n  return [ $elements, update, destroy ];\n}\n\nconst createElement = ({ tagName, attrs, children }) => {\n  const updates = [];\n  const destroyHandlers = [];\n\n  const $el = document.createElement(tagName);\n\n  if (attrs) {\n    for (const [k, v] of Object.entries(attrs)) {\n      if (k.match(eventHandler)) {\n        $el[k] = v;\n      } else if (typeof v === 'function') {\n        const update = updateAttr.bind(null, $el, k, v);\n        updates.push(update);\n        update();\n      } else {\n        $el.setAttribute(k, v);\n      }\n    }\n  }\n\n  if (children) {\n    for (const child of children) {\n      const [ element, update, destroyHandler ] = renderNode(child);\n      update && updates.push(update);\n      destroyHandler && destroyHandlers.push(destroyHandler);\n      // update && update($el);\n      patch($el, element);\n    }\n  }\n\n  const update = () => {\n    updates.forEach(update => update($el))\n  };\n\n  const destroy = () => {\n    destroyHandlers.forEach(fn => fn())\n  };\n\n  return [ $el, update, destroy ];\n}\n\nconst createComponent = ({ tagName: component, attrs, children }) => {\n  const unsubscribeList = [];\n  const updateObservable = createObservable();\n  const destroyObservable = createObservable();\n\n  const destroy = () => {\n    unsubscribeList.forEach( d => d());\n    destroyObservable.message();\n  };\n\n  const update = (...args) => {\n    updateDom(...args);\n    updateObservable.message();\n  }\n\n  const connectState = (subscribe) => setTimeout(() => unsubscribeList.push(subscribe(update)));\n  const [ $el, updateDom ] = renderNode(component({\n    attrs,\n    children,\n    useEffect: useEffect.bind({\n      subscribeToUpdates: updateObservable.subscribe,\n      subscribeToDestroy: destroyObservable.subscribe\n    }),\n    useComputed: useComputed.bind(connectState),\n    // useValue: hook.bind(connectState, createValue),\n    // useState: hook.bind(connectState, createState)\n    useValue: useValue.bind(connectState),\n    useState: useState.bind(connectState),\n    useRef\n  }));\n\n  return [ $el, update, destroy ];\n}\n","import { createState } from './state';\nimport { renderNode } from './render';\nimport { patch } from './patch';\nimport { $and, $or, $if } from './extras';\n\nconst env = { isRenderMode: true }\n\nconst h = (tagName, attrs = {}, ...children) => {\n  return { tagName, attrs, children };\n};\n\nconst mount = (hdom, $target) => {\n  const [ $el, update ] = renderNode(hdom);\n  window.update = update;\n  patch($target, $el);\n}\n\nexport {\n  h,\n  mount,\n  $if,\n  $and,\n  $or\n}\n","import { h, mount, $and, $if, $or } from './framework';\r\n\r\nconst Wrapper = ({ children }) => {\r\n  console.log('Rendering <Wrapper />')\r\n  return (\r\n    <div style={() => ({ border: '4px solid #177fb6', padding: '20px' })}>\r\n      { children }\r\n    </div>\r\n  );\r\n}\r\n\r\nconst UxInput = ({\r\n  attrs: { name, label, placeholder, type, ...rest }\r\n}) => {\r\n  console.log(\"Rendering <UxInput! />\")\r\n  return (\r\n    <div class=\"uxInput\">\r\n      <label for={ name }>{ label }</label>\r\n      <br />\r\n      <input\r\n        type={type || text}\r\n        placeholder={placeholder || ''}\r\n        name={name}\r\n        id={name}\r\n        {...rest}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Timer = ({ useValue, useComputed, useEffect }) => {\r\n  const [ counter, setCounter ] = useValue(0);\r\n  const increment = () => { setCounter(v => v + 1) };\r\n  const counterDisplay = useComputed({ counter }, ({ counter }) => {\r\n    const reversed = String(counter).split('').reverse().join('');\r\n    const sum = counter + Number(reversed);\r\n    return `${counter} | ${sum} | ${reversed}`;\r\n  });\r\n\r\n  const interval = setInterval(increment, 1000);\r\n\r\n  useEffect({ counter }, ({ counter }) => {\r\n    document.title = `You clicked ${counter} times`;\r\n  })\r\n\r\n  useEffect(false, () => {\r\n    console.log('START!!!')\r\n    return () => {\r\n      console.log('END!!!!')\r\n      document.title = 'Thank you for using Ryan Air!'\r\n      clearInterval(interval);\r\n    }\r\n  });\r\n\r\n  console.log(\"Rendering <Timer />\")\r\n\r\n  return (\r\n    <h2>{ counterDisplay }</h2>\r\n  );\r\n};\r\n\r\nconst Main = ({ attrs, useState, useEffect, useRef } = {}) => {\r\n  const inputRef = useRef();\r\n  console.log({ inputRef })\r\n  const [ state, updateState ] = useState({\r\n    name: '',\r\n    count: 0,\r\n    color: 'green',\r\n    showColors: true\r\n  });\r\n\r\n  window.state = state;\r\n\r\n  // useEffect({\r\n  //   counter\r\n  // }, ({\r\n  //   counter\r\n  // }) => {\r\n  //   document.title = `You clicked ${counter} times`;\r\n  // });\r\n  //\r\n  const toggleColorOptions = (e) => state.showColors = e.target.checked;\r\n  const incrementClicks = () => {\r\n    inputRef().focus();\r\n    state.count++;\r\n  };\r\n  const updateName = (e) => state.name = e.target.value;\r\n  const selectColor = (e) => state.color = e.target.value;\r\n\r\n  var buttonStyle = () => ({\r\n    background: state.color,\r\n    color: 'white',\r\n    border: `5px solid ${state.color}`\r\n  });\r\n\r\n  console.log(\"Rendering <Main />\")\r\n\r\n  return (\r\n    <div>\r\n      <UxInput\r\n        type=\"text\"\r\n        name=\"name\"\r\n        ref={inputRef}\r\n        label=\"Your name\"\r\n        value={() => state.name}\r\n        oninput={updateName}\r\n      />\r\n      <p>\r\n        Hello { () => state.name || 'John Doe' }! You have clicked { () => state.count } time{ () => state.count !== 1 ? 's' : ''} on the {() => state.color} button.\r\n      </p>\r\n      <button\r\n        style={buttonStyle}\r\n        onclick={incrementClicks}\r\n      > Increment! </button>\r\n      <p>\r\n        <label>\r\n          <input type=\"checkbox\" checked={() => state.showColors} oninput={ toggleColorOptions }/>\r\n          Show color options\r\n        </label>\r\n      </p>\r\n      <p>\r\n        { $if(() => state.showColors,\r\n          attrs.colors.map( color => <label>\r\n            <input\r\n              type=\"radio\"\r\n              value={color}\r\n              checked={() => color === state.color ? 'checked' : null}\r\n              name=\"color\"\r\n              id={color}\r\n              onchange={selectColor}\r\n            />\r\n            { color }\r\n          </label>\r\n        ), <Timer />) }\r\n      </p>\r\n    </div>\r\n  );\r\n};\r\n\r\n// const Test = () => {\r\n//   return [ ...Array(10000).keys() ].map( (x) => (\r\n//     <div>{ x }</div>\r\n//   ));\r\n// }\r\n\r\nconsole.time()\r\n\r\nmount(<Wrapper>\r\n  <Main colors={['red', 'orange', 'green', 'purple', 'black']} />\r\n</Wrapper>, document.body);\r\n// mount(<Test />, document.body);\r\nconsole.timeEnd()\r\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel]  Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel]   ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\"></span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}